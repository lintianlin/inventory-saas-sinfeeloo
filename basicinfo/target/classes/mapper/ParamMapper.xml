<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.sinfeeloo.inventory.mapper.ParamMapper">
    <resultMap id="BaseResultMap" type="com.sinfeeloo.inventory.entity.Param">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Apr 24 17:00:10 CST 2018.
        -->
        <id column="id" property="id" jdbcType="INTEGER"/>
        <result column="name" property="name" jdbcType="VARCHAR"/>
        <result column="descs" property="descs" jdbcType="VARCHAR"/>
        <result column="state" property="state" jdbcType="INTEGER"/>
        <result column="type" property="type" jdbcType="VARCHAR"/>
        <result column="creater" property="creater" jdbcType="VARCHAR"/>
        <result column="creatime" property="creatime" jdbcType="TIMESTAMP"/>
    </resultMap>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Apr 24 17:00:10 CST 2018.
        -->
        delete from lz_base_param
        where id = #{id,jdbcType=INTEGER}
    </delete>

    <update id="updateByPrimaryKey" parameterType="com.sinfeeloo.inventory.entity.Param">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Apr 24 17:00:10 CST 2018.
        -->
        update lz_base_param
        set name = #{name,jdbcType=VARCHAR},
        descs = #{descs,jdbcType=VARCHAR},
        state = #{state,jdbcType=INTEGER},
        type = #{type,jdbcType=VARCHAR},
        creater = #{creater,jdbcType=VARCHAR},
        creatime = #{creatime,jdbcType=TIMESTAMP}
        where id = #{id,jdbcType=INTEGER}
    </update>
    <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Apr 24 17:00:10 CST 2018.
        -->
        select id, name, descs, state, type, creater, creatime
        from lz_base_param
        where id = #{id,jdbcType=INTEGER}
    </select>


    <!--添加-->
    <insert id="insert" parameterType="com.sinfeeloo.inventory.entity.Param">
    insert into lz_base_param (id, name, descs,
    state, type, creater,
    creatime)
    values (#{id,jdbcType=INTEGER}, #{name,jdbcType=VARCHAR}, #{descs,jdbcType=VARCHAR},
    #{state,jdbcType=INTEGER}, #{type,jdbcType=VARCHAR}, #{creater,jdbcType=VARCHAR},
    now())
  </insert>

    <!--查询分页列表-->
    <select id="selectParamListByPage" resultMap="BaseResultMap">
        SELECT
        id,
        name,
        descs,
        type,
        creater,
        creatime,
        DATE_FORMAT(
        creatime,
        '%Y-%m-%d %H:%i:%s'
        ) AS updatimeStr
        FROM
        lz_base_param
        WHERE
        state = 1
        <if test="name != null and name!=''">
            AND name LIKE CONCAT ('%',#{name},'%' )
        </if>
        <if test="type != null and type!=''">
            AND type = #{type}
        </if>
        ORDER BY ${sortCode} ${sortRole}
        limit #{limit} offset #{offset}
    </select>
    <!--分页数量-->
    <select id="selectParamListCount" resultType="long">
        SELECT
        count(1)
        FROM
        lz_base_param
        WHERE
        state = 1
        <if test="name != null and name!=''">
            AND name LIKE CONCAT ('%',#{name},'%' )
        </if>
        <if test="type != null and type!=''">
            AND type = #{type}
        </if>
    </select>

</mapper>
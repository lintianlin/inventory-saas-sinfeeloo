<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sinfeeloo.inventory.mapper.GoodsMapper">
    <resultMap id="BaseResultMap" type="com.sinfeeloo.inventory.entity.Goods">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Apr 24 17:00:10 CST 2018.
        -->
        <id column="id" jdbcType="INTEGER" property="id"/>
        <result column="name" jdbcType="VARCHAR" property="name"/>
        <result column="code" jdbcType="VARCHAR" property="code"/>
        <result column="type" jdbcType="VARCHAR" property="type"/>
        <result column="brand" jdbcType="VARCHAR" property="brand"/>
        <result column="unit" jdbcType="VARCHAR" property="unit"/>
        <result column="color" jdbcType="VARCHAR" property="color"/>
        <result column="standard" jdbcType="VARCHAR" property="standard"/>
        <result column="material" jdbcType="VARCHAR" property="material"/>
        <result column="buyPrice" jdbcType="VARCHAR" property="buyprice"/>
        <result column="salePrice" jdbcType="VARCHAR" property="saleprice"/>
        <result column="descs" jdbcType="VARCHAR" property="descs"/>
        <result column="updater" jdbcType="VARCHAR" property="updater"/>
        <result column="updatime" jdbcType="TIMESTAMP" property="updatime"/>
        <result column="state" jdbcType="INTEGER" property="state"/>
        <result column="picture" jdbcType="LONGVARCHAR" property="picture"/>
    </resultMap>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Apr 24 17:00:10 CST 2018.
        -->
        delete from lz_base_goods
        where id = #{id,jdbcType=INTEGER}
    </delete>
    <insert id="insert" parameterType="com.sinfeeloo.inventory.entity.Goods">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Apr 24 17:00:10 CST 2018.
        -->
        insert into lz_base_goods (id, name, code,
        type, brand, unit,
        color, standard, material,
        buyPrice, salePrice, descs,
        updater, updatime, state,
        picture)
        values (#{id,jdbcType=INTEGER}, #{name,jdbcType=VARCHAR}, #{code,jdbcType=VARCHAR},
        #{type,jdbcType=VARCHAR}, #{brand,jdbcType=VARCHAR}, #{unit,jdbcType=VARCHAR},
        #{color,jdbcType=VARCHAR}, #{standard,jdbcType=VARCHAR}, #{material,jdbcType=VARCHAR},
        #{buyprice,jdbcType=VARCHAR}, #{saleprice,jdbcType=VARCHAR}, #{descs,jdbcType=VARCHAR},
        #{updater,jdbcType=VARCHAR}, #{updatime,jdbcType=TIMESTAMP}, #{state,jdbcType=INTEGER},
        #{picture,jdbcType=LONGVARCHAR})
    </insert>
    <update id="updateByPrimaryKey" parameterType="com.sinfeeloo.inventory.entity.Goods">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Apr 24 17:00:10 CST 2018.
        -->
        update lz_base_goods
        set name = #{name,jdbcType=VARCHAR},
        code = #{code,jdbcType=VARCHAR},
        type = #{type,jdbcType=VARCHAR},
        brand = #{brand,jdbcType=VARCHAR},
        unit = #{unit,jdbcType=VARCHAR},
        color = #{color,jdbcType=VARCHAR},
        standard = #{standard,jdbcType=VARCHAR},
        material = #{material,jdbcType=VARCHAR},
        buyPrice = #{buyprice,jdbcType=VARCHAR},
        salePrice = #{saleprice,jdbcType=VARCHAR},
        descs = #{descs,jdbcType=VARCHAR},
        updater = #{updater,jdbcType=VARCHAR},
        updatime = #{updatime,jdbcType=TIMESTAMP},
        state = #{state,jdbcType=INTEGER},
        picture = #{picture,jdbcType=LONGVARCHAR}
        where id = #{id,jdbcType=INTEGER}
    </update>
    <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Apr 24 17:00:10 CST 2018.
        -->
        select id, name, code, type, brand, unit, color, standard, material, buyPrice, salePrice,
        descs, updater, updatime, state, picture
        from lz_base_goods
        where id = #{id,jdbcType=INTEGER}
    </select>
    <select id="selectAll" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Tue Apr 24 17:00:10 CST 2018.
        -->
        select id, name, code, type, brand, unit, color, standard, material, buyPrice, salePrice,
        descs, updater, updatime, state, picture
        from lz_base_goods
    </select>


    <!--分页列表-->
    <select id="selectGoodsListByPage" resultMap="BaseResultMap">
        SELECT
        id,
        name,
        code,
        type,
        brand,
        unit,
        color,
        standard,
        material,
        buyPrice,
        salePrice,
        descs,
        updater,
        updatime,
        DATE_FORMAT(
        updatime,
        '%Y-%m-%d %H:%i:%s'
        ) AS updatimeStr,
        picture
        FROM
        lz_base_goods
        WHERE
        state = 1
        <if test="goodsName != null and goodsName!=''">
            AND name LIKE CONCAT ('%',#{goodsName},'%' )
        </if>
        <if test="goodsCode != null and goodsCode!=''">
            AND code =#{goodsCode}
        </if>
        <if test="goodsType != null and goodsType!=''">
            AND type =#{goodsType}
        </if>
        <if test="brand != null and brand!=''">
            AND brand =#{brand}
        </if>
        <if test="color != null and color!=''">
            AND color =#{color}
        </if>
        <if test="standard != null and standard!=''">
            AND standard =#{standard}
        </if>
        <if test="material != null and material!=''">
            AND material =#{material}
        </if>
        ORDER BY ${sortCode} ${sortRole}
        limit #{limit} offset #{offset}
    </select>

    <!--分页数量-->
    <select id="selectGoodsListCount" resultType="long">
        SELECT
        count(1)
        FROM
        lz_base_goods
        WHERE
        state = 1
        <if test="goodsName != null and goodsName!=''">
            AND name LIKE CONCAT ('%',#{goodsName},'%' )
        </if>
        <if test="goodsCode != null and goodsCode!=''">
            AND code =#{goodsCode}
        </if>
        <if test="goodsType != null and goodsType!=''">
            AND type =#{goodsType}
        </if>
        <if test="brand != null and brand!=''">
            AND brand =#{brand}
        </if>
        <if test="color != null and color!=''">
            AND color =#{color}
        </if>
        <if test="standard != null and standard!=''">
            AND standard =#{standard}
        </if>
        <if test="material != null and material!=''">
            AND material =#{material}
        </if>
    </select>
</mapper>